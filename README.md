# 佛光尋光記：三好之旅 AI 互動版 🎮✨

> 結合傳統視覺小說與 AI 語意判定的全新互動體驗

![Version](https://img.shields.io/badge/version-2.0-blue)
![AI Powered](https://img.shields.io/badge/AI-Claude%20API-purple)
![License](https://img.shields.io/badge/license-MIT-green)

## 📖 遊戲簡介

這是「佛光尋光記：三好之旅」的 AI 增強版本，結合了：

- **🎨 精美視覺小說風格**：完整的場景背景、角色立繪、對話系統
- **🤖 AI 語意判定系統**：使用 Anthropic Claude API 進行智能分析
- **📚 教育意義**：透過遊戲實踐「做好事、說好話、存好心」的三好理念
- **💎 收集系統**：三顆寶石等待你用真誠的行動點亮

## ✨ 遊戲特色

### 雙模式 AI 引擎

1. **Claude API 模式**（推薦）
   - 使用最先進的語言模型進行語意分析
   - 理解複雜的語境和情感意圖
   - 提供個性化的反饋

2. **本地模式**（備用）
   - 基於正則表達式的語意匹配
   - 無需 API 金鑰即可遊玩
   - 適合離線環境

### 互動體驗

- **自由輸入**：不再是預設選項，而是讓你真實表達
- **即時判定**：AI 實時分析你的回答是否符合三好精神
- **個性化反饋**：根據你的回答給予具體的建議

### 視覺呈現

- 6 個精美場景背景
- 16 個角色立繪
- 流暢的場景轉換動畫
- 寶石收集動畫效果

## 🎯 遊戲流程

### 序章：接受使命
在新生訓練中，你遇見星雲大師的精神化身，獲得一塊空白石板，展開尋找三好之石的旅程。

### 第一章：大一 - 做好事（善行之石）
**情境**：同學找不到 AirPods Pro 很著急  
**任務**：用實際行動幫助同學  
**學習**：純粹的善意無需回報

### 第二章：大二 - 說好話（慧語之石）
**情境**：到課外活動組繳交企劃書  
**任務**：展現禮貌與尊重的溝通  
**學習**：語言的力量能建立溫暖連結

### 第三章：大四 - 存好心（淨念之石）
**情境**：畢業典禮上的感恩時刻  
**任務**：發自內心的真誠祝福  
**學習**：善念不是任務，而是生活態度

### 結局：覺悟圓滿
三顆寶石合一，領悟三好精神的真諦。

## 🚀 快速開始

### 方法一：本地執行（推薦）

1. **下載遊戲檔案**
   ```bash
   # 解壓縮 foguang-ai-game.zip
   unzip foguang-ai-game.zip
   cd foguang-ai-game
   ```

2. **啟動本地伺服器**
   ```bash
   # 使用 Python
   python -m http.server 8000
   
   # 或使用 Node.js
   npx http-server -p 8000
   ```

3. **開啟瀏覽器**
   ```
   http://localhost:8000
   ```

### 方法二：GitHub Pages 部署

1. 建立 GitHub 儲存庫
2. 上傳所有檔案
3. 在 Settings > Pages 啟用
4. 使用產生的網址存取

### 方法三：Netlify 一鍵部署

[![Deploy to Netlify](https://www.netlify.com/img/deploy/button.svg)](https://app.netlify.com/start)

拖放整個資料夾到 Netlify，即可自動部署。

## 🔑 API 金鑰設定

### 取得 Anthropic API 金鑰

1. 前往 [Anthropic Console](https://console.anthropic.com/)
2. 註冊並登入帳號
3. 在 API Keys 頁面建立新金鑰
4. 複製金鑰（格式：`sk-ant-...`）

### 在遊戲中設定

1. 首次啟動遊戲時會提示設定
2. 輸入你的 API 金鑰
3. 金鑰會安全儲存在瀏覽器本地
4. 也可以跳過設定，使用本地模式

### 注意事項

- ⚠️ **金鑰安全**：金鑰僅存在你的瀏覽器，不會上傳到任何伺服器
- 💰 **費用**：每次 AI 判定約消耗 0.001-0.003 USD
- 🔄 **變更金鑰**：可在遊戲選單中重新設定

## 📁 檔案結構

```
foguang-ai-game/
├── index.html          # 遊戲主頁面
├── style.css           # 完整樣式（500+ 行）
├── game.js             # 遊戲引擎（600+ 行）
├── story.js            # 故事數據（400+ 行）
├── README.md           # 說明文件
└── assets/             # 遊戲資源
    ├── scenes/         # 場景背景（6 張）
    │   ├── 體育館.png
    │   ├── 教室.png
    │   ├── 走廊的盡頭是課外組.png
    │   ├── 課外活動組.png
    │   ├── 一起畢業.png
    │   └── 大家都再往前走_我好像少了甚麼.png
    ├── characters/     # 角色立繪（16 張）
    │   ├── 星雲大師.png
    │   ├── 女大學生.png
    │   ├── 男大學生.png
    │   └── ...
    └── items/          # 物品圖片（4 張）
        ├── 寶石.png
        ├── 寶石托盤.png
        ├── 活動企劃書.png
        └── 遺失的耳機.png
```

## 💻 技術規格

### 前端技術

- **HTML5**：語意化結構
- **CSS3**：動畫、過渡效果、響應式設計
- **Vanilla JavaScript**：無依賴，純原生實作

### AI 整合

- **Anthropic Claude API**：claude-sonnet-4-20250514
- **本地語意分析**：正則表達式模式匹配
- **Fallback 機制**：API 失敗自動切換本地模式

### 瀏覽器支援

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+
- ✅ 行動裝置瀏覽器

### 功能特性

- ✅ 完整的遊戲存檔系統（localStorage）
- ✅ 響應式設計（桌面/平板/手機）
- ✅ 無障礙支援
- ✅ 離線遊玩（本地模式）

## 🎮 遊玩提示

### AI 判定攻略

#### 第一章：做好事

**✅ 正確示範**
- "我幫你找！"
- "別急，我們一起找垃圾桶"
- "我去檢查地板和桌子底下"

**❌ 錯誤示範**
- "你自己找"
- "再買一個就好了"
- "活該，誰叫你不小心"

#### 第二章：說好話

**✅ 正確示範**
- "老師好，我是來繳交企劃書的，謝謝老師"
- "哥哥姐姐好，請問可以交企劃書嗎？辛苦了"
- "不好意思打擾，麻煩幫我收一下企劃書，謝謝"

**❌ 錯誤示範**
- "喂，企劃書在哪交？"
- "快點收下"
- "給你"

#### 第三章：存好心

**✅ 正確示範**
- "祝你畢業快樂，未來一切順利！"
- "恭喜畢業！謝謝這段緣分"
- "不用謝，你開心就好。希望你前程似錦！"

**❌ 錯誤示範**
- "你要還我錢嗎？"
- "終於畢業了，再見"
- "哈哈笑死"

### 通用技巧

1. **具體描述**：AI 喜歡看到具體的行動和話語
2. **展現誠意**：真誠的語氣比華麗的詞藻重要
3. **完整表達**：避免過於簡短的回答
4. **查看提示**：每個挑戰都有提示按鈕可以參考

## 🛠️ 開發者資訊

### 修改故事內容

編輯 `story.js`，所有故事節點都在 `STORY_DATA` 物件中：

```javascript
chapter1: {
    c1_1: {
        id: 'c1_1',
        background: 'assets/scenes/教室.png',
        characters: {
            center: 'assets/characters/女大學生.png'
        },
        speaker: '旁白',
        text: '你的對話內容...',
        next: 'c1_2'
    },
    // ... 更多節點
}
```

### 調整 AI 判定規則

在 `story.js` 的 `aiChallenge` 中修改：

```javascript
aiChallenge: {
    prompt: '給玩家的提示',
    hint: '詳細的線索',
    validation: {
        positivePatterns: [
            /正面的正則表達式/,
        ],
        negativePatterns: [
            /負面的正則表達式/,
        ]
    }
}
```

### 更換 API 模型

在 `game.js` 中找到 `analyzeWithClaudeAPI` 函式：

```javascript
model: 'claude-sonnet-4-20250514'  // 改成其他模型
```

### 新增寶石類型

1. 在 `game.js` 的 `collectedGems` 新增項目
2. 在 HTML 的 gems-display 新增 slot
3. 在 CSS 新增對應樣式

## 🐛 疑難排解

### 問題：遊戲畫面一片空白

**解決方法**：
1. 確認所有檔案都在正確位置
2. 檢查瀏覽器 Console 是否有錯誤訊息
3. 使用 HTTP 伺服器而非直接開啟 HTML

### 問題：API 呼叫失敗

**解決方法**：
1. 確認 API 金鑰格式正確（`sk-ant-...`）
2. 檢查網路連線
3. 確認 API 額度是否足夠
4. 使用本地模式作為備用

### 問題：圖片無法顯示

**解決方法**：
1. 確認 assets 資料夾結構完整
2. 檢查圖片檔名是否與程式碼一致
3. 使用瀏覽器開發者工具查看網路請求

### 問題：存檔無法讀取

**解決方法**：
1. 確認瀏覽器允許 localStorage
2. 清除瀏覽器快取後重試
3. 檢查是否在無痕模式（無法儲存）

## 📊 專案統計

- **程式碼行數**：1500+ 行
- **圖片資源**：26 張（約 1.5 MB）
- **開發時間**：完整整合版本
- **支援語言**：繁體中文

## 👥 製作團隊

- **原作者**：許彧銘、許慧柔
- **遊戲設計**：結合佛光大學三好精神與現代教育理念
- **AI 整合版本**：2025/11/28
- **技術支援**：Claude AI

## 📄 授權條款

本專案採用 MIT 授權條款。

- ✅ 可自由使用、修改、分發
- ✅ 可用於商業用途
- ⚠️ 需保留原作者資訊
- ⚠️ 不提供任何擔保

## 🎓 教育應用

本遊戲適合用於：

- 📚 品德教育課程
- 🏫 新生訓練活動
- 👥 團體討論教材
- 🎮 遊戲式學習實驗

歡迎教育工作者使用並提供反饋！

## 🌟 未來展望

計畫中的功能：

- [ ] 四給支線任務（給人信心、歡喜、希望、方便）
- [ ] 背景音樂與音效
- [ ] 成就系統
- [ ] 多結局系統
- [ ] 多語言支援（英文、日文）
- [ ] PWA 支援（可安裝到手機）
- [ ] 雲端存檔功能

## 💬 聯絡我們

如有任何問題或建議，歡迎聯繫：

- 📧 Email：（請填入你的聯絡方式）
- 🐛 Issue：請在 GitHub 上提出
- 💡 建議：歡迎任何改進意見

---

**感謝遊玩「佛光尋光記：三好之旅 AI 互動版」！**

願你在遊戲中體會三好精神，在生活中實踐善念。✨

> 做好事、說好話、存好心 —— 星雲大師
